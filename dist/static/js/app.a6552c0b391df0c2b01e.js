webpackJsonp([1],{NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var a=e("VU/8")({name:"App"},o,!1,function(t){e("X/Zv")},null,null).exports,i=e("/ocq"),c=e("mvHQ"),r=e.n(c),u=e("woOf"),d=e.n(u),l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"transaction"},[e("h1",[t._v("inputs")]),t._v(" "),t._l(t.transaction.inputs,function(n){return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.amount,expression:"input.amount"}],attrs:{type:"text"},domProps:{value:n.amount},on:{input:function(e){e.target.composing||t.$set(n,"amount",e.target.value)}}}),t._v(" "),e("p",[t._v(t._s(n.amount))]),t._v(" "),e("p",[t._v(t._s(n.address))])])}),t._v(" "),e("h1",[t._v("outputs")]),t._v(" "),t._l(t.transaction.outputs,function(n){return e("div",[e("p",[t._v(t._s(n.amount))]),t._v(" "),e("p",[t._v(t._s(n.address))])])})],2)},staticRenderFns:[]};var v=e("VU/8")({name:"Transaction",props:["transaction"],data:function(){return{}}},l,!1,function(t){e("dvpV")},"data-v-7df3eec6",null).exports,p=e("L6bb"),h=e.n(p),_={name:"Block",props:["block"],computed:{hasError:function(){var t=this.block.head,n=h()(r()(this.block.body));t.bodyHash=n,t.nonce=parseInt(t.nonce),t.difficulty=parseInt(t.difficulty),delete t.hash;var e=Array(parseInt(t.difficulty)+1).join("0"),s=h()(r()(t));return t.hash=s,this.$emit("blockUpdate"),!s.startsWith(e)}},components:{transaction:v},data:function(){return{}},methods:{verify:function(){var t=d()({},this.block.head);return delete t.hash,h()(r()(t))}}},f={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"block",class:{error:t.hasError}},[e("div",{staticClass:"head"},[e("h2",[t._v("Head")]),t._v(" "),e("h4",[t._v("Hash")]),t._v(" "),e("p",[t._v(t._s(t.block.head.hash))]),t._v(" "),e("h4",[t._v("Time")]),t._v(" "),e("p",[t._v(t._s(t.block.head.time))]),t._v(" "),e("h4",[t._v("Prev Block")]),t._v(" "),e("p",[t._v(t._s(t.block.head.last))]),t._v(" "),e("h4",[t._v("Nonce")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.block.head.nonce,expression:"block.head.nonce"}],attrs:{type:"number"},domProps:{value:t.block.head.nonce},on:{input:function(n){n.target.composing||t.$set(t.block.head,"nonce",n.target.value)}}}),t._v(" "),e("h4",[t._v("Body Hash")]),t._v(" "),e("p",[t._v(t._s(t.block.head.bodyHash))])]),t._v(" "),e("h2",[t._v("Body")]),t._v(" "),t._l(t.block.body,function(t){return e("transaction",{attrs:{transaction:t}})}),t._v(" "),0==t.block.body.length?e("div",[e("h1",[t._v("No transactions")])]):t._e()],2)},staticRenderFns:[]};var m={name:"Unspent",props:["transaction","index"],data:function(){return{}},methods:{click:function(){console.log(this.index);var t=this.index;this.$emit("click",t)}}},k={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"utxo",on:{click:function(n){t.click()}}},[e("p",{staticClass:"address"},[t._v(t._s(t.transaction.address))]),t._v(" "),e("p",{staticClass:"amount"},[t._v(t._s(t.transaction.amount))])])},staticRenderFns:[]};var b={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"unconfirmed"},[e("h3",[t._v("inputs")]),t._v(" "),t._l(t.unconfirmed.inputs,function(n){return e("div",[e("p",[t._v(t._s(n.address))]),t._v(" "),e("p",[t._v(t._s(n.amount))])])}),t._v(" "),e("h3",[t._v("ouputs")]),t._v(" "),t._l(t.unconfirmed.outputs,function(n){return e("div",[e("p",[t._v(t._s(n.address))]),t._v(" "),e("p",[t._v(t._s(n.amount))])])})],2)},staticRenderFns:[]};var x={name:"Home",components:{block:e("VU/8")(_,f,!1,function(t){e("SdK/")},"data-v-de338646",null).exports,utxo:e("VU/8")(m,k,!1,function(t){e("fvNu")},"data-v-337d822d",null).exports,unconfirmed:e("VU/8")({name:"Unconfirmed",props:["unconfirmed"],data:function(){return{}},methods:{}},b,!1,function(t){e("zKcO")},"data-v-2881d41c",null).exports},methods:{blockUpdate:function(){var t="";this.blocks.forEach(function(n){n.head.last=t,t=n.head.hash})},mineNextBlock:function(){var t=this.unconfirmedTransactions;this.unconfirmedTransactions=[];var n="";this.blocks.length&&(n=this.blocks[this.blocks.length-1].head.hash);var e={bodyHash:h()(r()(t)),time:new Date,last:n,difficulty:parseInt(this.difficulty)},s=0,o="",a=Array(parseInt(this.difficulty)+1).join("0");do{e.nonce=s,o=h()(r()(e)),s++}while(!o.startsWith(a));e.hash=o,this.blocks.push({head:e,body:t});var i=this;t.forEach(function(t){t.outputs.forEach(function(t){i.utxo.push(t)})}),this.utxo.push({address:h()(Math.random()),amount:50}),console.log(this.blocks)},submitTransaction:function(){this.unconfirmedTransactions.push({inputs:this.nextBlock.inputs,outputs:this.nextBlock.outputs}),this.nextBlock={inputs:[],outputs:[]},this.nextBlock.inputs=[],this.nextBlock.outputs=[]},addOutput:function(){this.nextBlock.outputs.push({address:h()(Math.random()),amount:0})},clicked:function(t){this.nextBlock.inputs.push(this.utxo[t]),this.utxo.splice(t,1)},mine:function(){var t=void 0,n=Array(this.difficulty).join("0");do{t=this.step(block,0)}while(t.startsWith(n))},step:function(t,n){return h()(n+r()(t))},simpleHash:function(t,n){return h()(n+r()(t))}},data:function(){return{nextBlock:{inputs:[],outputs:[]},difficulty:2,utxo:[{address:h()(Math.random()),amount:"50"},{address:h()(Math.random()),amount:"50"}],unconfirmedTransactions:[],blocks:[]}},mounted:function(){setInterval(function(){},1e3)}},y={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("h1",[t._v("Blocks")]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"blockchain"},t._l(t.blocks,function(n){return e("block",{attrs:{block:n},on:{blockUpdate:t.blockUpdate}})})),t._v(" "),e("div",{staticClass:"unconfirmedTransactions"},[e("h2",[t._v("Next Block")]),t._v(" "),t._l(t.unconfirmedTransactions,function(t){return e("unconfirmed",{attrs:{unconfirmed:t}})}),t._v(" "),e("h4",[t._v("Difficulty "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.difficulty,expression:"difficulty"}],attrs:{type:"text"},domProps:{value:t.difficulty},on:{input:function(n){n.target.composing||(t.difficulty=n.target.value)}}})]),t._v(" "),e("button",{on:{click:t.mineNextBlock}},[t._v("Mine Block")])],2),t._v(" "),e("div",{staticClass:"createTransaction"},[e("div",{staticClass:"maker"},[e("h2",[t._v("Inputs")]),t._v(" "),t._l(t.nextBlock.inputs,function(n){return e("div",{staticClass:"input"},[e("div",[t._v("\n            "+t._s(n.address)+" \n            "+t._s(n.amount)+"\n          ")])])}),t._v(" "),e("h2",[t._v("Outputs")]),t._v(" "),t._l(t.nextBlock.outputs,function(n){return e("div",{staticClass:"output"},[e("div",[e("label",[t._v("Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.address,expression:"transaction.address"}],attrs:{type:"text"},domProps:{value:n.address},on:{input:function(e){e.target.composing||t.$set(n,"address",e.target.value)}}})]),t._v(" "),e("div",[e("label",[t._v("Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.amount,expression:"transaction.amount"}],attrs:{type:"text"},domProps:{value:n.amount},on:{input:function(e){e.target.composing||t.$set(n,"amount",e.target.value)}}})])])}),t._v(" "),e("button",{on:{click:function(n){t.addOutput()}}},[t._v("Add Output")]),t._v(" "),e("button",{on:{click:function(n){t.submitTransaction()}}},[t._v("Create Transaction")])],2),t._v(" "),e("div",{staticClass:"transactionList"},[e("h1",[t._v("Unspent")]),t._v(" "),t._l(t.utxo,function(n,s){return e("utxo",{attrs:{transaction:n,index:s},on:{click:t.clicked}})})],2)])])])},staticRenderFns:[]};var g=e("VU/8")(x,y,!1,function(t){e("oV83")},"data-v-5a8d4822",null).exports;s.a.use(i.a);var B=new i.a({routes:[{path:"/",name:"Home",component:g}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:B,components:{App:a},template:"<App/>"})},"SdK/":function(t,n){},"X/Zv":function(t,n){},dvpV:function(t,n){},fvNu:function(t,n){},oV83:function(t,n){},zKcO:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.a6552c0b391df0c2b01e.js.map